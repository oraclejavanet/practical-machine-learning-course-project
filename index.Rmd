---
title: "Practical Machine Learning Course Project"
author: "Jeffrey M. Hunter"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output:
  html_document:
    toc: yes
    toc_float: yes
    theme: cosmo
    keep_md: no
    df_print: paged
  pdf_document:
    toc: yes
    df_print: kable
    number_sections: false
    fig_caption: yes
    highlight: tango
    dev: pdf
  word_document:
    toc: yes
    df_print: paged
    keep_md: no
---

## Synopsis

This report contains research that was conducted for the Practical Machine
Learning course as part of the Data Science Specialization offered through
Coursera from Johns Hopkins University. This writeup was built in RStudio
using the knitr function to publish the final report in HTML format.

The source code for this project can be found on
GitHub: <a target="_blank" href="https://github.com/oraclejavanet/practical-machine-learning-course-project">Practical Machine Learning Course Project</a>

## Introduction

Using devices such as *Jawbone Up*, *Nike FuelBand*, and *Fitbit* it is now
possible to collect a large amount of data about personal activity relatively
inexpensively. These type of devices are part of the quantified self movement â€“
a group of enthusiasts who take measurements about themselves regularly to
improve their health, to find patterns in their behavior, or because they are
tech geeks. One thing that people regularly do is quantify how much of a
particular activity they do, but they rarely quantify how well they do it.

The goal for this assignment is to analyze the *Weight Lifting Exercise*
dataset and develop a machine learning algorithm to predict the manner in which
6 participants performed a particular dumbbell exercise. This is the "classe"
variable in the training set. 

The data was collected from accelerometers on the belt, forearm, arm, and
dumbbell of the 6 participants. The participants were asked to perform barbell
lifts correctly and incorrectly in 5 different ways. For more information about
the dataset used for this analysis, see section
<a target="_blank" href="http://groupware.les.inf.puc-rio.br/har#weight_lifting_exercises">Weight Lifting Exercises Dataset</a>
from the Human Activity Recognition (HAR) project website.

The resulting prediction model will also serve as the basis for the
"Course Project Prediction Quiz Portion" of this assignment where the machine
learning algorithm will be applied to 20 test cases available in the test data
and the predictions will submitted in the appropriate format for automated
grading.

## Environment Setup

Prepare the session by loading all necessary packages and clearing the global
workspace (including hidden objects).

```{r load-packages, message = FALSE, echo = TRUE}
library(knitr)
library(caret)
library(randomForest)
rm(list = ls(all.names = TRUE))
setwd("~/repos/coursera/github-assignments/practical-machine-learning-course-project")
```


```{r setup, include = FALSE}
# set knitr options
knitr::opts_chunk$set(echo = TRUE, fig.path = 'figures/')

# free up memory and display statistics on free memory
gc()

# disable scientific notation for numbers
options(scipen = 1)

# knit hook to allow partial output from a code chunk
hook_output <- knit_hooks$get("output")
knit_hooks$set(output = function(x, options) {
  lines <- options$output.lines
  if (is.null(lines)) {
    return(hook_output(x, options)) # pass to default hook
  }
  x <- unlist(strsplit(x, "\n"))
  more <- "..."
  if (length(lines) == 1) { # first n lines
    if (length(x) > lines) {
      # truncate the output, but add ....
      x <- c(head(x, lines), more)
    }
  } else {
    x <- c(more, x[lines], more)
  }
  # paste these lines together
  x <- paste(c(x, ""), collapse = "\n")
  hook_output(x, options)
})
```

## Prepare the Data

### Load Data

```{r load-data, echo = TRUE}
trainURL <- "http://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv"
testURL  <- "http://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv"

trainDataFile <- "data/pml-training.csv"
testDataFile <- "data/pml-testing.csv"

if (!file.exists('data')) {
    dir.create('data')
}
if (!file.exists(trainDataFile)) {
    download.file(url = trainURL, destfile = trainDataFile)
}
if (!file.exists(testDataFile)) {
    download.file(url = testURL, destfile = testDataFile)
}

trainData <- read.csv(trainDataFile, sep = ",", header = TRUE)
testData <- read.csv(testDataFile, sep = ",", header = TRUE)

stopifnot(dim(trainData) == c(19622, 160))
stopifnot(dim(testData) == c(20, 160))
```

